<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Au Register Forms by Colorlib</title>

    <!-- Icons font CSS-->
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Vendor CSS-->
    <link href="vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="vendor/datepicker/daterangepicker.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="css/main.css" rel="stylesheet" media="all">
</head>

<body>
    <div class="page-wrapper bg-gra-02 p-t-130 p-b-100 font-poppins">
        <div class="wrapper wrapper--w680">
            <div class="card card-4">
                <div class="card-body">
                    <h2 class="title">CodeForces Stalker</h2>
                    <form method="POST">
                        <div class="row row-space">
                            <div class="col-2">
                                <div class="input-group">
                                    <label class="label">Enter CodeForces UserId</label>
                                    <input class="input--style-4" type="text" name="nick">
                                </div>
                            </div>
                        </div>
                        <div class="row row-space">
                            
                        <div class="p-t-15">
                            <button class="btn btn--radius-2 btn--blue" type="submit">Submit</button>
                        </div>
                    </form>
                    <% if(done===2){ %>
        
                        <p>Total Submissions: <%= total %></p>
                        <p>Accuracy: <%= accuracy %>% </p>
                        <p>Accepted Submissions: <%= ac %></p>
                        <p>Wrong Submissions: <%= wrong %></p>
                        <p>Time Limit Exceeded: <%= tle %></p>
                        <p>Runtime Error: <%= runtime %></p>
                        <p>Memory Limit Exceeded: <%= memorylimit %></p>
                        <p>Compilation Error: <%= compilation %></p>    
                        <p>Hacked: <%= hacked %></p>
                        <p>Others: <%= other %></p>
                        <br>
                        <br>
                        <div class="container">
                            <canvas id="myChart"></canvas>
                        </div>
                    <% }else if(done===1){ %>
                        <p>Invalid UserId</p>
                    <% } %>
                </div>
            </div>
        </div>
    </div>
    <% if(done!==1){ %>
        <script>
             let ctx= document.getElementById('myChart').getContext('2d');
     
             Chart.defaults.global.defaultFontFamily= 'Lato';        
             Chart.defaults.global.defaultFontSize= 18;
             Chart.defaults.global.defaultFontColor= '#777';
     
             var myChart = new Chart(ctx, {
                 type: 'pie',
                 data: {
                     labels: ['Accepted', 'Wrong Answer', 'Runtime Error', 'Time Limit Exceeded', 'Memory Limit Exceeded', 'Compilation Error', 'Hacked', 'Others'],
                     datasets: [{
                         label: 'Submissions',
                         data: [
                             <%= ac %>,
                             <%= wrong %>,
                             <%= runtime %>,
                             <%= tle %>,
                             <%= memorylimit %>,
                             <%= compilation %>,
                             <%= hacked %>,
                             <%= other %>
                         ],
                         backgroundColor: [
                             'rgb(132,222,2)',
                             'rgb(211,33,45)',
                             'rgb(0,48,143)',
                             'rgb(255,191,0)',
                             'rgb(201,255,229)',
                             'rgb(176,101,241)',
                             'rgb(196,98,16)',
                             'rgb(0,0,0)'
                         ],
                         borderWidth: 1,
                         borderColor: '#777',
                         hoverBorderWidth: 3,
                         hoverBorderColor: '#000'
                     }]
                 },
                 options: {
                     title: {
                         display: true,
                         text: "Submission Chart",
                         fontSize: 25
                     },
                     legend: {
                         position: 'right',
                         labels: {
                             fontColor: '#000'
                         }
                     },
                     layout: {
                         padding: {
                             left: 50,
                             right: 0,
                             bottom: 0,
                             top: 0
                         }
                     }
                 }
             });
        </script> 
     <% } %>
    <!-- Jquery JS-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <!-- Vendor JS-->
    <script src="vendor/select2/select2.min.js"></script>
    <script src="vendor/datepicker/moment.min.js"></script>
    <script src="vendor/datepicker/daterangepicker.js"></script>

    <!-- Main JS-->
    <script src="js/global.js"></script>

</body><!-- This templates was made by Colorlib (https://colorlib.com) -->

</html>
<!-- end document-->